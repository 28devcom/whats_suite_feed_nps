# Backend service configuration
SERVICE_NAME=whatssuite-api
SERVICE_INSTANCE_ID=local-1
PORT=3000
REQUEST_TIMEOUT_MS=15000
LOG_LEVEL=info
ALLOWED_ORIGINS=https://localhost,https://localhost:5173
TZ=UTC
RATE_LIMIT_WINDOW_SECONDS=60
RATE_LIMIT_MAX_REQUESTS=300
RATE_LIMIT_USER_WINDOW_SECONDS=60
RATE_LIMIT_USER_MAX_REQUESTS=300
RATE_LIMIT_API_WINDOW_SECONDS=60
RATE_LIMIT_API_MAX_REQUESTS=600
HTTP_MAX_CONCURRENT=500
HTTP_BACKPRESSURE_QUEUE=200
HTTP_REQUIRE_HTTPS=true

# PostgreSQL
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=whatssuite
POSTGRES_PASSWORD=whatssuite
POSTGRES_DB=whatssuite
POSTGRES_POOL_MIN=2
POSTGRES_POOL_MAX=15
POSTGRES_POOL_IDLE=10000
POSTGRES_POOL_MAX_USES=0
POSTGRES_SSL=false

# Redis
REDIS_URL=redis://redis:6379
REDIS_TLS=false
REDIS_SESSION_PREFIX=session

# Frontend (host base, Nginx añadirá /api)
VITE_API_BASE_URL=https://localhost
APP_BASE_URL=https://localhost

# Autenticación
JWT_SECRET=change-me-please
JWT_EXPIRES_IN=15m
JWT_ISSUER=whatssuite
JWT_AUDIENCE=whatssuite-clients
BCRYPT_SALT_ROUNDS=12
ADMIN_EMAIL=admin@whatssuite.local
ADMIN_PASSWORD=ChangeMe123!
ADMIN_FULL_NAME=Default Admin

# WhatsApp
WHATSAPP_SESSION_SECRET=change-me-whatsapp-secret-32bytes
MEDIA_MAX_BYTES=25MB
MEDIA_STORAGE_DIR=storage/media
MEDIA_ENCRYPTION_ENABLED=false
# 32 bytes base64 (256-bit)
MEDIA_ENCRYPTION_KEY=

# Feature flags (per entorno: development, qa, production)
FEATURE_CAMPAIGNS=true
FEATURE_WHATSAPP_CONNECTIONS=true
FEATURE_AUDIT_EXPORTS=false
FEATURE_COLD_ARCHIVE=true
CACHE_CHAT_TTL_SECONDS=30
CACHE_MESSAGES_TTL_SECONDS=20
CACHE_ASSIGNMENT_TTL_SECONDS=15
CACHE_DASHBOARD_TTL_SECONDS=180

# Worker queues / realtime limits
WORKER_REALTIME_CONCURRENCY=10
WORKER_REALTIME_QUEUE=500
